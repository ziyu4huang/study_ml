# install tensorflow 2.7 macos
# https://betterdatascience.com/install-tensorflow-2-7-on-macbook-pro-m1-pro/
#

# homebrew
#> /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
# xcode
#> xcode-select --install
# CREATE conda enviroment
#> #1 conda create --name ray python=3.9; conda activate ray
# INSTALL tensorflow from Apple Channel 
#> #2 conda install -c apple tensorflow-deps -y
#> #3 conda install -c conda-forge jupyterlab
#![tf macos](https://betterdatascience.com/content/images/size/w1000/2021/12/6-min.png)

#>### pip install tensorflow-macos (compbine to pip-compile)
#>### pip install tensorflow-metal (compbine to pip-compile)


# https://docs.ray.io/en/latest/ray-overview/installation.html#m1-mac-apple-silicon-support
# wget https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-MacOSX-arm64.sh
# bash Miniforge3-MacOSX-arm64.sh
# rm https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-MacOSX-arm64.sh # Cleanup.

# Install Ray as you normally would. using requirement.txt 
# generate via pip-compile
# source compile.sh
# ================
# 
# ================
#> pip install tensorflow-macos
#> pip install tensorflow-metal
#> pip install pip-tools

tensorflow-macos
tensorflow-metal
ray[data,rllib,tune,serve]
pyarrow
dask

# last step special for grpcio
# pip uninstall grpcio; conda install grpcio.


